{
  "hash": "ea8dfc53dc33fba95b0d7d0a5cd2da4f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Visualization\"\nauthor: \"Robert W. Walker\"\ndate: \"2026-01-29\"\nimage: \"image.png\"\n---\n\nToday, we continue data visualization.\n\nOur reading for today includes a section of Open Intro Stats and Hadley Wickham's *Grammar of Graphics*.\n\n## Five bits of data\n\n- [datasaurus](./data/datasaurus.csv).   \n- [BondFunds](./data/BondFunds.csv).   \n- [UCB-Admissions](./data/UCB-Admit.csv).   \n- [CADDS](./data/CADDS.csv).   \n- [Fast Food](./data/FastFood.csv).   \n\n\n## Bond Funds\n\n- Fund Number: An ID.   \n- Type: Intermediate Government or Short-term Corporate.   \n- Assets: Assets held by the fund in reported dollars.   \n- Fees: Are management fees assessed?  [Yes/No].   \n- Expense Ratio: Ratio of operating expenses to fund assets.    \n- Returns [for the year 2009, trailing 3 year and 5 year (from 2009)].   \n- The Morningstar risk classification [Below average, average, and above average].  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(jsonlite)\nBondFunds <- read.csv(\"./data/BondFunds.csv\")\nlibrary(reticulate)\n```\n:::\n\n\n# [The flipbook](https://robertwwalker.github.io/dadm-slides/flipbookSLE/)\n\n# [The pages](https://robertwwalker.github.io/DADM-FAQ/)\n\n# Slides\n\n[Link is here](https://robertwwalker.github.com/BUS1301-SP26/slides/01-27-2026/)\n\n## Just about any model will do\n\nI will use `Gemini`.  `Claude` can also do this.\n\n::: {.callout-important}\nPrompt: Can you provide a histogram of assets and a boxplot of assets by type for the following spreadsheet?\n:::\n\n![reply](./reply.png)\n\n![output](./image.png)\n\n## `ChatGPT`\n\n![ChatGPT](./chatgpt.png)\n\n## `plotnine`\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\nfrom plotnine import (\n    ggplot, aes, geom_histogram, geom_boxplot,\n    labs, theme, element_text, coord_flip\n)\n\ndf = pd.read_csv('./data/BondFunds.csv')\n\n# Histogram of Assets\nhist_plot = (\n    ggplot(df, aes(x='Assets'))\n    + geom_histogram(bins=30)\n    + labs(title='Histogram of Assets', x='Assets', y='Frequency')\n)\nhist_plot.show()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=614}\n:::\n\n```{.python .cell-code}\n# Boxplot of Assets by Type\nbox_plot = (\n    ggplot(df, aes(x='Type', y='Assets'))\n    + geom_boxplot()\n    + labs(title='Assets by Fund Type', x='Type', y='Assets')\n    + theme(axis_text_x=element_text(rotation=90, hjust=1)) \n    + coord_flip()\n)\nbox_plot.show()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-2.png){width=614}\n:::\n:::\n\n\n\n\n## CADDS\n\nThe data set presented is designed to represent a sample of 1,000 DDS consumers (which provides a 95% confidence interval with a margin of error of plus-or-minus   3.5% for this 250,000 consumer population). The data set includes six variables (i.e., fields) which are: ID, age cohort/age (binned/unbinned), gender, expenditures, and ethnicity. NB: The data set originated from DDS’s Client Master File. In order to remain in compliance with California State Legislation, the data have been altered to protect the rights and privacy of specific individual consumers. The provided data set is based on actual attributes of consumers. \n\n**ID** is the unique identification code for each consumer. It is similar to a social security number and used for identification purposes. \n\n**Age cohort/age** is a key variable in the case exercise. While age is a legal basis for discrimination in many situations, age is not an attribute that would be considered in a discrimination claim for this particular population. The purpose of providing funds to those with developmental disabilities is to help them live like those without disabilities. As consumers get older, their financial needs increase as they move out of their parent’s home, etc. Therefore, it is expected that expenditures for older consumers will be higher than for the younger consumers. \n\nWe have included both binned (**Age cohort**) and unbinned (**Age**) variables to represent a consumer’s age. The binned age variable is represented in the data set as six age cohorts. Each consumer is assigned to an age cohort based on their years since birth. The six cohorts include: 0-5 years old, 6-12, 13-17, 18-21, 22-50, and 51+. The cohorts are established based on the amount of financial support typically required during a particular life phase. \n\nThe 0-5 cohort (preschool age) has the fewest needs and requires the least amount of funding. For the 6-12 cohort (elementary school age) and 13-17 (high school age), a number of needed services are provided by schools. The 18-21 cohort is typically in a transition phase as the consumers begin moving out from their parents’ homes into community centers or living on their own. The majority of those in the 22-50 cohort no longer live with their parents but may still receive some support from their family. Those in the 51+ cohort have the most needs and require the most amount of funding because they are living on their own or in community centers and often have no living parents. \n\n**Gender** is included in the data set as another variable to consider because it is an attribute on which many discrimination cases are based. \n\n**Expenditures** variable represents the annual expenditures the State spends on each consumer in supporting these individuals and their families. It is important that students realize this is the amount each consumer receives from the State. Expenditures include services such as: respite for their families, psychological services, medical expenses, transportation, and costs related to housing such as rent (especially for adult consumers living outside their parent’s home). \n\n**Ethnicity** is the key demographic variable in the data set as it pertains to the case. Eight ethnic groups are represented in the data set. These groups reflect the demographic profile of the State of California.  Our key area of interest will become Hispanic and White, non-Hispanic comparisons.\n\n\n## UCB Admissions\n\n**Is there evidence of sex bias in admission practices?**  Data on admissions to the University of California at Berkeley graduate programs in six departments are presented for the population of applicants.  **Admit** measures whether or not the applicant was admitted; **M.F** measures the [self-reported, two options] gender of the applicant; **Dept** measures the department in a classification ranging from A to F.  \n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\n\ndf = pd.read_csv('./data/UCB-Admit.csv')\nprint(df.head())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    M.F Admit Dept\n0  Male   Yes    A\n1  Male   Yes    A\n2  Male   Yes    A\n3  Male   Yes    A\n4  Male   Yes    A\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(df.info())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<class 'pandas.DataFrame'>\nRangeIndex: 4526 entries, 0 to 4525\nData columns (total 3 columns):\n #   Column  Non-Null Count  Dtype\n---  ------  --------------  -----\n 0   M.F     4526 non-null   str  \n 1   Admit   4526 non-null   str  \n 2   Dept    4526 non-null   str  \ndtypes: str(3)\nmemory usage: 106.2 KB\nNone\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Aggregate data\n# We want to count occurrences of each (M.F, Admit) pair\ncounts = df.groupby(['M.F', 'Admit']).size().unstack(fill_value=0)\n\n# Inspect the aggregated data\nprint(counts)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAdmit     No   Yes\nM.F               \nFemale  1278   557\nMale    1493  1198\n```\n\n\n:::\n\n```{.python .cell-code}\n# Plotting\n# X-axis: M.F (Index of counts)\n# Stacks: Admit (Columns of counts)\n# Using pandas plot kind='bar', stacked=True is easiest\n\nax = counts.plot(kind='bar', stacked=True, figsize=(10, 6), color=['#d65f5f', '#5fba7d'])\nplt.title('Admission Status by Gender')\nplt.xlabel('Gender')\nplt.ylabel('Count')\nplt.xticks(rotation=0)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(array([0, 1]), [Text(0, 0, 'Female'), Text(1, 0, 'Male')])\n```\n\n\n:::\n\n```{.python .cell-code}\nplt.legend(title='Admit')\nplt.tight_layout()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-5.png){width=960}\n:::\n:::\n\n\n## Fast Food\n\nThis data has missing values.\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\n\n# 1. Import the CSV file\nurl = \"./data/FastFood.csv\"\ndf = pd.read_csv(url)\n\n# 2. Count of Missing Values (for all columns)\nprint(\"--- Count of Missing Values ---\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n--- Count of Missing Values ---\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(df.isnull().sum())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nrestaurant       0\nitem             0\ncalories         0\ncal_fat          0\ntotal_fat        0\nsat_fat          0\ntrans_fat        0\ncholesterol      0\nsodium           0\ntotal_carb       0\nfiber           12\nsugar            0\nprotein          1\nvit_a          214\nvit_c          210\ncalcium        210\nsalad            0\ndtype: int64\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(\"\\n\")\n```\n\n```{.python .cell-code}\n# Filter for numeric columns only for the statistical calculations\nnumeric_df = df.select_dtypes(include='number')\n\n# 3. Mean\nprint(\"--- Mean ---\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n--- Mean ---\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(numeric_df.mean())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\ncalories        530.912621\ncal_fat         238.813592\ntotal_fat        26.590291\nsat_fat           8.153398\ntrans_fat         0.465049\ncholesterol      72.456311\nsodium         1246.737864\ntotal_carb       45.664078\nfiber             4.137177\nsugar             7.262136\nprotein          27.891051\nvit_a            18.857143\nvit_c            20.170492\ncalcium          24.852459\ndtype: float64\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(\"\\n\")\n```\n\n```{.python .cell-code}\n# 4. Standard Deviation\nprint(\"--- Standard Deviation ---\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n--- Standard Deviation ---\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(numeric_df.std())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\ncalories       282.436147\ncal_fat        166.407510\ntotal_fat       18.411876\nsat_fat          6.418811\ntrans_fat        0.839644\ncholesterol     63.160406\nsodium         689.954278\ntotal_carb      24.883342\nfiber            3.037460\nsugar            6.761301\nprotein         17.683921\nvit_a           31.384330\nvit_c           30.592243\ncalcium         25.522073\ndtype: float64\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(\"\\n\")\n```\n\n```{.python .cell-code}\n# 5. Five Number Summary (Min, Q1, Median, Q3, Max)\n# The describe() function includes count, mean, std, and the 5-number summary.\n# We will select specific rows to isolate the 5-number summary.\nprint(\"--- Five Number Summary ---\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n--- Five Number Summary ---\n```\n\n\n:::\n\n```{.python .cell-code}\nprint(numeric_df.describe().loc[['min', '25%', '50%', '75%', 'max']])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     calories  cal_fat  total_fat  sat_fat  ...  protein  vit_a  vit_c  calcium\nmin      20.0      0.0        0.0      0.0  ...      1.0    0.0    0.0      0.0\n25%     330.0    120.0       14.0      4.0  ...     16.0    4.0    4.0      8.0\n50%     490.0    210.0       23.0      7.0  ...     24.5   10.0   10.0     20.0\n75%     690.0    310.0       35.0     11.0  ...     36.0   20.0   30.0     30.0\nmax    2430.0   1270.0      141.0     47.0  ...    186.0  180.0  400.0    290.0\n\n[5 rows x 14 columns]\n```\n\n\n:::\n:::\n\n\n## The class plan:\n\n1. Pivots and formulae.   \n2. Visualizations and types.  \n3. Gemini visualizing data.  We will use FastFood.  Two notes: uploads and missing data\n\n\nYour assignment for this time:\n\n1. Do the reading.\n2. **From last time**. Collect three data visualizations. Think about the approach to visualization presented and how your graphics manifest it. Post them and describe them.  What type of data do they represent and how?  What is the name of the type of visualization?   \n3. For this time, provide three uploaded visualizations.  One should use FastFood.  The others may use whatever data you wish.\n\n\n## For Next Class:\n\n1. Reading: Probability\n2. Deliverable: An In-class exercise [Assignment 6] if not completed before departing\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}